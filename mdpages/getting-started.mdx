---
title: Getting Started
---

# [${meta.title}]

---

At the moment, Chalet must be installed manually in non-Windows operating systems, but in the future will be available through Homebrew/package managers. Before working with Chalet, the application should be accessible from PATH.

* [Releases](https://github.com/chalet-org/chalet-dev/releases)

\\

## [Machine Setup]

<!-- accordion:start Adding a C/C++ Compiler -->

Before building, you should have a C/C++ compiler chosen for your platform, and make it available from PATH.

<!-- tabs:start -->
|Windows|
**Install one of the following:**
* [Visual Studio](https://visualstudio.microsoft.com/) (Recommended)
* [LLVM](https://llvm.org/)
* [MinGW-w64 via MSYS2](https://www.msys2.org/)
* A standalone MinGW build (MinGW-w64 from Sourceforge, TDM-GCC, etc.) 

\

**If using Visual Studio:**
* In the VS Installer, Install C++ related components, but most importantly, the x64/x86 build tools (and optionally ARM, ARM64).
* Also install the bundled CMake tools if you wish
* If using a preview version of Visual Studio, use the following command in your project before building:

```bash
chalet configure --toolchain msvc-pre
```

Otherwise, chalet implicitly uses the `msvc` toolchain preset

> Note: Chalet uses [vswhere](https://github.com/microsoft/vswhere) to get the rest of the Visual Studio environment, so no Path environment variable changes are needed

\

**If using LLVM:**
* Install LLVM and either add to Path directly in Windows Environment Variables or create a .env file in your project to modify Path
* Use the following command in your project before building:

```bash
chalet configure --toolchain llvm
```

* Or to use LLVM by default with Chalet:
```bash
chalet set --global settings.toolchain llvm
```

> Note: LLVM on Windows uses the Visual Studio ABI `x86_64-pc-windows-msvc` by default (and requires a Visual Studio installation anyway)

\

**If using MinGW-w64 (GCC) via MSYS2:**
* Install MSYS2 - This defaults to the path `C:\msys64`
* Update the package database with `pacman -Syu` (Note: some packages may be less stable though)
* Add MinGW (32 & 64 bit versions respectively) via:

```bash
pacman -S mingw-w64-x86_64-toolchain mingw-w64-i686-toolchain
```

* Check for GCC with `gcc --version`
* Add `C:\msys64\mingw64\bin` to Path directly in Windows Environment Variables (not recommended) or create a .env file in your project to modify Path
* Use the following command in your project before building:

```bash
chalet configure --toolchain gcc
```

* Or to use GCC by default with Chalet:
```bash
chalet set --global settings.toolchain gcc
```

> Note: If both 32 and 64 version are installed, Chalet only needs one of the bin folders in path. It will reinterpret the path based on the requested architecture of the build.

> Note: One can also install clang from MSYS2, but support for it in Chalet is still experimental...

\

**If using a standalone MinGW build:**
* Install/extract it where you please. It is recommended to use sub-folders for 32-bit and 64-bit versions if compiling for both, and to use the convention `mingw32` and `mingw64` for those subfolder names
* Add `(folder)\mingw64\bin` to Path directly in Windows Environment Variables (not recommended) or create a .env file in your project to modify Path

> Note: If both 32 and 64 version are installed, Chalet only needs one of the bin folders in path. It will reinterpret the path based on the requested architecture of the build.

|MacOS|
**Install one of the following:**
* [Xcode](https://developer.apple.com/xcode/) (Recommended)
* [Command Line Tools for Xcode](https://developer.apple.com/download/all/?q=%22command%20line%20tools%22)

\

**If using Xcode:**
* Ensure Xcode.app is placed in Applications
* Run the following from Terminal:

```bash
sudo xcode-select -s /Applications/Xcode.app/Contents/Developer
```

\

**If using Command Line Tools:**
* Run the installer from the dmg image & restart Terminal if necessary
* Run the following:

```bash
sudo xcode-select -s /Library/Developer/CommandLineTools
```

In both, running `which clang` should show `/usr/bin/clang` (although it actually resolves to the xcode-select path)

|Linux|
**Install one of the following**
* Your distribution's compiler (typically GCC)
* [LLVM](https://llvm.org/)

Every Linux build is going to be a little different, so this is more like a set of guidelines.

You should have at least the following packages from your package manager:
```
base-devel git cmake ninja gdb
```

**If using GCC:**
* Chalet will detect GCC by default, so nothing further should be necessary

**If using LLVM:**
* Use the following command in your project before building:
```bash
chalet configure --toolchain llvm
```

* Or to use LLVM by default with Chalet:
```bash
chalet set --global settings.toolchain llvm
```

<!-- tabs:end -->

<!-- accordion:end -->

<!-- accordion:start Building Chalet from Source -->

<!-- tabs:start -->

!!ChaletReadme!!

<!-- tabs:end -->

<!-- accordion:end -->

<!-- accordion:start Additional Software -->

* [Git](https://git-scm.com/) - Used in Chalet for fetching & managing external dependencies
* [Ninja](https://ninja-build.org/) - Make alternative, that is quicker by design due to how it manages dependencies
* [CMake](https://cmake.org/) - Used to integrate external code into Chalet projects

<!-- accordion:end -->

\\

## [Creating a Project]

Once Chalet is installed and a compiler is available, run either:

```bash
chalet init my-project
cd my-project
```

or

```bash
mkdir my-project
cd my-project
chalet init
```

You'll be shown a wizard that will guide you the rest of the way, creating a simple "Hello World" project, a chalet.json, and optionally a git repository. In the last step, you'll be asked to configure the project.

\\

## [Settings Overview]

During the build, Chalet uses a generated settings file, `.chaletrc`, to control machine-specific paths and settings. The `configure` command is a way to  configure the build and download dependencies without running the build yet. It takes the same cli options as the main set of build commands, but only changes the settings file. This way, you can change settings for each build on the fly without having to configure each time. Typically you would use it to change the toolchain, architecture, paths of ancillary tools, and on mac: apple sdk paths. If a `.chaletrc` file exists in the user/home directory and has its own paths and toolchains defined, they will be copied over into the project's `.chaletrc`.

> Note: The output color scheme can also be controlled via `.chaletrc` from either the local or global settings, but it does not get automatically copied from the global settings like the other properties.

\

**Toolchains**

The toolchain refers to either a preset (`llvm` `apple-llvm` `gcc` `msvc` `msvc-pre`) or a custom name that resolves to a toolchain structure in the project settings. The preset will attempt to detect compiler toolchain executables add add them to settings. 

Architecture will be described in more detail later, but in general, it does not need to be specified if you are compiling for your host architecture

The toolchain is specified with either `--toolchain (name)` or `-t (name)`
The architecture is specified with either `--arch (name)` or `-a (name)`

Here are some examples:

```bash
chalet configure -t msvc -a x86 
chalet configure -t msvc-pre -a x64
# Attempts to find the target architecture and creates the toolchain:
# 'x64-pc-windows-msvc(version)' where 'version' is the detected 
# MSVC version (or Preview version) - 16, 17, etc.

chalet configure -t gcc -a x86_64 
# Attempts to find the target architecture (if MinGW) and creates the toolchain 'x86_64-gcc'
# since the version of GCC (and the target triple) do not get inferred (yet)

chalet configure -t llvm -a x86_64
chalet configure -t apple-llvm -a universal 
# creates the toolchain 'llvm' or 'apple-llvm'
# since Clang handles the architecture

chalet configure -t llvm -a auto
# "auto" explicity sets the output architecture to the build machine's architecture
```

> Note: In all cases, you can edit the generated toolchain name later

\

**Build configurations**

By default, Chalet has 5 build configurations: 

```
Release
Debug
MinSizeRel
RelWithDebInfo
Profile
```

It uses the same names as CMake, specifically for familiarity. `Profile` is a special target that makes a build for profiling and attempts to launch a compatible profiler. In the Profile build of CMake build targets, `Debug` is used, while if custom build configurations are defined, a CMake compatible configuration will be deduced from its properties.

During the configure step the `Release` build configuration will be chosen and configured in settings. If it's a new project, you'll typically want to go right to the `Debug` build, so the option to do that would simply be either `--configuration (name)` or `-c (name)`. If you want to do this in the configure step, the previous examples can be expanded upon with:

```bash
chalet configure -c Debug -t llvm -a auto
```

> Note: Build configurations can be customized by defining a `configurations` structure in `chalet.json` with either a list of new configuration objects, or a string list that limits the default ones (for example, to just `Release` and `Debug`)

\\

## [The First Build]

Create that first build with:
```bash
chalet build
```

If the output directory is `build`, this will generate a build of the project into the folder `build/(id)_(configuration)` where `id` is a either the target triple or the toolchain name. The subfolder can also be customized to just the configuration.

The following commands rely on the build configuration in settings:

```bash
chalet buildrun 
chalet run 
chalet build 
chalet rebuild  
chalet clean 
```

The `buildrun` & `run` commands can also take the target you want to run afterwards (including its arguments). Therefore, if multiple executables are built, and one wants to run a target called "my-tests", a target that is not the default run target, one can use:
```bash
chalet buildrun my-tests
# No arguments

chalet buildrun my-tests -w NoTests -s
# Remaining arguments after the executable target will be passed to the executable

chalet run my-tests '-w NoTests -s'
# A single string argument will be parsed and passed to the executable as separate arguments
``` 

<!-- nav:/:/managing-dependencies -->
